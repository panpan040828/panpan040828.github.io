---
layout: post
title: 浏览器的标签页是用多进程还是多线程实现
date: 2016-06-17
categories: 浏览器
tags: [浏览器]
description: 
---

### 一. 进程和线程的区别

下面是在网上看到的一个科普贴：

> - 单进程单线程：一个人在一个桌子上吃菜。
> - 单进程多线程：多个人在同一个桌子上一起吃菜。
> - 多进程单线程：多个人每个人在自己的桌子上吃菜。
> 
> **多线程**的问题是多个人同时吃一道菜的时候容易发生争抢，例如两个人同时夹一个菜，一个人刚伸出筷子，结果伸到的时候已经被夹走菜了。。。此时就必须等一个人夹一口之后，在还给另外一个人夹菜，也就是说**资源共享就会发生冲突争抢**。
> 
> 对于 Windows 系统来说，【开桌子】的开销很大(创建进程的时间开销很大)，因此 Windows 鼓励大家在一个桌子上吃菜。因此 Windows 多线程学习重点是要大量面对资源争抢与同步方面的问题。
> 
> 对于 Linux 系统来说，【开桌子】的开销很小，因此 Linux 鼓励大家尽量每个人都开自己的桌子吃菜。这带来新的问题是：坐在两张不同的桌子上，说话不方便。因此，Linux 下的学习重点大家要学习进程间通讯的方法。

**什么是进程？**

进程是一个应用程序在处理机上的一次执行过程，可以申请和拥有系统资源，是一个动态的概念。

**什么是线程？**

线程是进程中的一部分，进程包含多个线程在运行。

通常把**进程**作为**分配资源的基本单位**，而把**线程**作为**独立运行和独立调度的基本单位**

### 二. 浏览器的标签页是用多线程还是多进程实现

不同浏览器采用的实现方法是不一样的。

**多进程浏览器：**

- IE 10
- chrome
- opera 15或以上

**多线程浏览器：**

- IE 6
- oprea 12或以上
- Firefox

可在windows任务管理器中查看：

![浏览器是多进程还是多线程](/uploads/post/20160617/process.jpg)

### 三. 多进程和多线程的比较

**采用多进程的优点：**

- 安全：现代系统都有进程的安全机制，单个进程有自己独立的内存空间
- 稳定：不会因为一个线程的崩溃导致整个应用的崩溃
- 性能

**采用多进程的缺点：**

- 内存占用大
- 进程间通讯的成本大
- 进程启动的开销大

<font color="red">现代浏览器为啥会更多地采用多进程？</font>

> 现在的页面越来越复杂,H5, Webapp,或者Hybrid App等等，它们执行的任务越来越重，不再像以前都是文档类型的页面，现在的页面更像是一个应用。
> 
> 们对系统资源的需求变大，同时不稳定的机率也增大。如果同时开启多个页面，就会引入更长的操作延迟，严重影响用户体验。
> 
> 它页面浏览中核心的功能是页面的渲染(从DOM Tree到Render Tree)，JS的执行, 它是一个需要集中运算的功能，相对独立于系统资源的使用。而系统资源的使用又可以集中起来共享使用，也有利于将不安全的页面与系统资源隔离开来（沙箱机制的需求）。