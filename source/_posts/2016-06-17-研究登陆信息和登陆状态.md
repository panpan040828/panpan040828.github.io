---
layout: post
title: 研究登陆信息与登陆状态
date: 2016-06-17
categories: 浏览器
tags: [浏览器]
description: 
---

这几天看了一下session和cookie的内容，突然对登陆页面产生了兴趣，经过测试发现，无论在多进程还是多线程浏览器中，淘宝的登陆是满足：

1. 在浏览器的a标签页面登陆自己的账号，同时打开该浏览器的另外一个标签页b，在b页面访问淘宝，发现b页面是显示的登陆状态。

2. 若在b页面退出登陆，再打开a页面，在不执行任何操作的情况下，a页面显示的虽然是登陆状态，但其实已经退出登陆了，刷新页面或者点击一个链接，都会跳到让你登陆的页面。

3. a页面处于登录状态，若关闭浏览器，再次打开浏览器，访问淘宝，则仍然需要输入账号密码来登录。

基于上面3点，产生了下面的疑问：

1. 登录的信息（账号、密码）存在哪里？

2. 登录的状态是保存在哪里？

3. 如何做到不同标签页共享同一个登录状态，在关闭浏览器之后，该登录状态又失效？

4. 当勾选了记住密码，用户名和密码是保存在哪里的？

> Cookie来起登陆作用的呢，有兴趣的可以把浏览器的Cookie禁用掉，应该大部分的网站登陆不进去，为什么不是全部呢，是因为cookie确实不是唯一一种支持登陆的方式，如果你懂得这个原理，你就知道，可以通过URL添加登陆参数来每次验证或者可以采用把登陆相关信息放到隐藏的表单里面，如果你采用以上方法的时候一定要重视用户登录信息的安全性。
 
### 一. 登陆信息存在哪里?

由于session是存在服务器的，session比cookie安全一些，因此向用户名和密码这种比较重要的信息都是用session进行保存的。

然后使用cookie来保存session id

### 二. 登录的状态是保存在哪里？

登陆状态和登陆信息的处理方法是一样的。

### 三. 如何做到不同标签页共享同一个登录状态，在关闭浏览器之后，该登录状态又失效？

不同标签页之间是共享同一个session的，关闭浏览器之后，再登陆该网站，session id变了，之前的session也被删掉了，因此需要重新登陆。

一般利用会话cookie来保存session id。

### 四. 当勾选了记住密码，用户名和密码是保存在哪里的?

勾选了记住密码，再点击登陆按钮的时候，如果登陆成功就把用户名和密码设置到cookies（持久cookie）中。

下一次的打开这个登陆网页的时候  在onload中先查看cookies中有没有数据，有的话就将之前记住的用户名和密码显示出来；没有的话就显示页面  然后和前面一样，点登陆的时候再设置cookie。

上面都是现在自己的理解，也不知道是不是全部对的~不断地查漏补缺吧~>_<