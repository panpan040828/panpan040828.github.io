---
layout: post
title: 纯函数
date: 2016-05-16
categories: 前端笔记
tags: [javaScript]
description: 
---

### 1. 什么是纯函数

相同的输入，永远会得到相同的输出；而且没有任何可观察的副作用。

eg：

	function myFunc(){
	    return 'hello, ' + this.name；
	}

这不是一个纯函数，因为this指向不明，this指向什么跟函数执行的方式有关。

你永远不知道this.name会被谁改写，测试用例也不可能覆盖所有情况。如果正巧有一个外部函数，它每隔一个月将this.name改写成'shit'，你和测试人员熬了几个通宵没有发现一点问题，你也信心满满。

**共享状态导致的混乱是绝大多数bug的万恶之源**

不提倡全局变量

### 2. JS中要想保证函数无副作用这项特性，只能依靠编程人员的习惯，即 ：

1，函数入口使用参数运算，而不修改它 
2，函数内不修改函数外的变量，如全局变量 
3，运算结果通过函数返回给外部（出口）